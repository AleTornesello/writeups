#/bin/sh

i=0

while true; do 
    password=$(python3 brute.py "level_$i.png" "lev3l_$i.png")

    if [ $? -eq 12 ]
    then
        echo "Implement new algorithm"
        exit 1
    fi

    i=$(($i+1))

    echo "$i -> $password"

    7z x "level_$i.7z" -p$password > /dev/null

    if [ $? -eq 0 ]
    then
        rm "level_$i.7z"
    else
        echo "Failure" >&2
        exit 1
    fi

done